{"programModules":{"EXT226MI":{"program":"EXT226MI","triggers":{},"transactions":{"Add":{"sourceUuid":"9a475848-61f7-4848-86cc-4f7eb925721a","name":"Add","program":"EXT226MI","description":"Add record ala OIS226","active":true,"multi":false,"modified":1693559910404,"modifiedBy":"KEDARM","outputFields":[],"inputFields":[{"name":"CONO","description":"company","length":3,"mandatory":false,"type":"N"},{"name":"SEA1","description":"season","length":7,"mandatory":true,"type":"A"},{"name":"OBV1","description":"start value 1","length":15,"mandatory":false,"type":"A"},{"name":"OBV2","description":"start value 2","length":15,"mandatory":false,"type":"A"},{"name":"OBV3","description":"start value 3","length":15,"mandatory":false,"type":"A"},{"name":"DWID","description":"delivery window","length":8,"mandatory":true,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"9a475848-61f7-4848-86cc-4f7eb925721a":{"uuid":"9a475848-61f7-4848-86cc-4f7eb925721a","updated":1693912040131,"updatedBy":"KEDARM","created":1693559878673,"createdBy":"KEDARM","apiVersion":"0.15","beVersion":"16.0.0.20230621154344.6","language":"GROOVY","codeHash":"5F0DDEE1D95C6C383ED5445A6E5F16FC8B65A2205183072B3435361688E6777B","code":"LyoqDQoqICBCdXNpbmVzcyBFbmdpbmUgRXh0ZW5zaW9uDQoqLw0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkV4dGVuc2lvbiBOYW1lOiBFWFQyMjZNSS5BZGQNClR5cGUgOiBFeHRlbmRNM1RyYW5zYWN0aW9uDQpTY3JpcHQgQXV0aG9yOiBFZGlzb24gVmlsbGFyDQpEYXRlOiAyMDIzLTA4LTMxDQoNCkRlc2NyaXB0aW9uOg0KICAgICAgQWRkIHJlY29yZCB0byBPREVQRVIgKERlbGl2ZXJ5IFBlcmlvZCkgYWxhIE9JUzIyNiBiYXNlZCBvbiBwcmUtZGVmaW5lZCBzZXR1cCBpbiBPSVMyMjUuDQoNClJldmlzaW9uIEhpc3Rvcnk6DQpOYW1lICAgICAgICAgICAgICAgICAgICBEYXRlICAgICAgICAgICAgIFZlcnNpb24gICAgICAgICAgRGVzY3JpcHRpb24gb2YgQ2hhbmdlcw0KRWRpc29uIFZpbGxhciAgICAgICAgICAgMjAyMy0wOC0zMSAgICAgICAxLjAgICAgICAgICAgICAgIEluaXRpYWwgVmVyc2lvbg0KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGUNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTsNCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyDQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZVBhcnNlRXhjZXB0aW9uDQpwdWJsaWMgY2xhc3MgQWRkIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7DQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW0NCiAgcHJpdmF0ZSBmaW5hbCBMb2dnZXJBUEkgbG9nZ2VyDQogIA0KICBwdWJsaWMgQWRkKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBMb2dnZXJBUEkgbG9nZ2VyKSB7DQogICAgdGhpcy5taSA9IG1pOw0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQ0KICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0NCiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcg0KICB9DQogIA0KICBpbnQgaW5DT05PDQogIFN0cmluZyBpblNFQTEsIGluT0JWMSwgaW5PQlYyLCBpbk9CVjMsIGluRFdJRA0KICBTdHJpbmcgcGFyYW1zLCBwYXJhbTEsIHBhcmFtMiwgcGFyYW0zDQogIC8qKg0KICAgKiBtYWluDQogICAqLw0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIGluQ09OTyA9IChtaS5pbi5nZXQoIkNPTk8iKSA9PSBudWxsKSA/IDAgOiBtaS5pbi5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyDQogICAgaWYgKGluQ09OTyA9PSAwKQ0KICAgICAgaW5DT05PID0gcHJvZ3JhbS5MREFaRC5DT05PIGFzIGludA0KICAgICAgDQogICAgaW5TRUExID0gKG1pLmluLmdldCgiU0VBMSIpID09IG51bGwpID8gIiIgOiBtaS5pbi5nZXQoIlNFQTEiKS50b1N0cmluZygpLnRvVXBwZXJDYXNlKCkudHJpbSgpIA0KICAgIGluT0JWMSA9IChtaS5pbi5nZXQoIk9CVjEiKSA9PSBudWxsKSA/ICIiIDogbWkuaW4uZ2V0KCJPQlYxIikudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpLnRyaW0oKQ0KICAgIGluT0JWMiA9IChtaS5pbi5nZXQoIk9CVjIiKSA9PSBudWxsKSA/ICIiIDogbWkuaW4uZ2V0KCJPQlYyIikudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpLnRyaW0oKQ0KICAgIGluT0JWMyA9IChtaS5pbi5nZXQoIk9CVjMiKSA9PSBudWxsKSA/ICIiIDogbWkuaW4uZ2V0KCJPQlYzIikudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpLnRyaW0oKQ0KICAgIGluRFdJRCA9IChtaS5pbi5nZXQoIkRXSUQiKSA9PSBudWxsKSA/ICIiIDogbWkuaW4uZ2V0KCJEV0lEIikudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpLnRyaW0oKQ0KICAgIA0KICAgIGlmICghZ2V0T0lTMjI1UGFyYW1zKCkpDQogICAgICByZXR1cm4NCiAgICANCiAgICBpZiAoIXZhbGlkYXRlSW5wdXRWYWx1ZXMoKSkNCiAgICAgIHJldHVybg0KICAgIA0KICAgIGFkZFJlY29yZCgpDQogIH0NCiAgDQogIC8qKg0KICAgKiB2YWxpZGF0ZUlucHV0VmFsdWVzIC0gdmFsaWRhdGUgaW5wdXQgdmFsdWVzLiBub3RlIG9mIHRoZSBoYXJkIGNvZGVkIGxpdGVyYWxzIGZvciBwYXJhbTEsIHBhcmFtMiwgYW5kIHBhcmFtMw0KICAgKi8NCiAgYm9vbGVhbiB2YWxpZGF0ZUlucHV0VmFsdWVzKCkgew0KICAgIC8vdGhlIGJlbG93IHBhcmFtZXRlciBzZXR1cCBzaG91bGQgYmUgaGVsZCBjb25zdGFudCBhcyBwZXIgc3BlYw0KICAgIGlmIChwYXJhbTEgIT0gIk9CSERQUiIgfHwgcGFyYW0yICE9ICJPQkFUVjYiIHx8IHBhcmFtMyAhPSAiTU1HUlA0IikNCiAgICB7DQogICAgICBtaS5lcnJvcigiT0lTMjI1IHNldHVwIHNob3VsZCBiZTogT0JIRFBSL09CQVRWNi9NTUdSUDQuIikNCiAgICAgIHJldHVybiBmYWxzZQ0KICAgIH0NCiAgICAvL2NoZWNrIHNlYXNvbg0KICAgIGlmIChpblNFQTEgIT0gIiIpDQogICAgew0KICAgICAgaWYgKCF2YWxpZFNlYXNvbihpblNFQTEpKQ0KICAgICAgew0KICAgICAgICBtaS5lcnJvcigiU2Vhc29uIGlzICR7aW5TRUExfSBpbnZhbGlkLiIpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICBtaS5lcnJvcigiU2Vhc29uIGlzIG1hbmRhdG9yeS4iKQ0KICAgICAgcmV0dXJuIGZhbHNlDQogICAgfQ0KICAgIA0KICAgIC8vY2hlY2sgT0JWMSB2YWx1ZQ0KICAgIGlmIChwYXJhbTEgPT0gIk9CSERQUiIpIHsgDQogICAgICBpZiAoaW5PQlYxID09ICIiKQ0KICAgICAgew0KICAgICAgICBtaS5lcnJvcigiT2JqZWN0IHZhbHVlIDEgaXMgcmVxdWlyZWQuIikNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9IGVsc2UgaWYgKCF2YWxpZEhEUFIoaW5PQlYxKSkgew0KICAgICAgICBtaS5lcnJvcigiT2JqZWN0IHZhbHVlIDEgJHtpbk9CVjF9IGlzIGludmFsaWQuIikNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8vbm8gbmVlZCB0byBjaGVjayBPQlYxIGFuZCBPQlYyIHZhbHVlcyBhcmUgdGhlc2UgYXJlIHRleHQgdmFsdWVzIGFuZCBjYW4gYmUgYmxhbmtzLg0KICAgIA0KICAgIC8vY2hlY2sgZGVsaXZlcnkgd2luZG93DQogICAgaWYgKGluRFdJRCAhPSAiIikNCiAgICB7DQogICAgICBpZiAoIXZhbGlkRGVsaXZlcnlXaW5kb3coaW5TRUExLCBpbkRXSUQpKQ0KICAgICAgew0KICAgICAgICBtaS5lcnJvcigiRGVsaXZlcnkgd2luZG93ICR7aW5EV0lEfSBpcyBpbnZhbGlkLiIpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICBtaS5lcnJvcigiRGVsaXZlcnkgd2luZG93IGlzIG1hbmRhdG9yeS4iKQ0KICAgICAgcmV0dXJuIGZhbHNlDQogICAgfQ0KICAgIA0KICAgIHJldHVybiB0cnVlDQogIH0NCiAgDQogIC8qKg0KICAgKiB2YWxpZFNlYXNvbiAtIGNoZWNrIGlmIHNlYXNvbiBpcyB2YWxpZA0KICAgKi8NCiAgYm9vbGVhbiB2YWxpZFNlYXNvbihTdHJpbmcgc2Vhc29uKSB7DQogICAgREJBY3Rpb24gZGJhQ1NFQU1BID0gZGF0YWJhc2UudGFibGUoIkNTRUFNQSIpLmluZGV4KCIwMCIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb25DU0VBTUEgPSBkYmFDU0VBTUEuZ2V0Q29udGFpbmVyKCkNCiAgICBjb25DU0VBTUEuc2V0KCJIU0NPTk8iLCBpbkNPTk8pDQogICAgY29uQ1NFQU1BLnNldCgiSFNTRUExIiwgc2Vhc29uKQ0KICAgIHJldHVybiBkYmFDU0VBTUEucmVhZChjb25DU0VBTUEpDQogIH0NCiAgDQogIC8qKg0KICAgKiB2YWxpZEhEUFIgLSBjaGVjayBpZiBIRFBSIChzcGVjaWFsIGtpbmQgb2YgaXRlbSkgaXMgdmFsaWQNCiAgICovDQogIGJvb2xlYW4gdmFsaWRIRFBSKFN0cmluZyBoZHByKSB7DQogICAgREJBY3Rpb24gZGJhTUlUTUFTID0gZGF0YWJhc2UudGFibGUoIk1JVE1BUyIpLmluZGV4KCI2MCIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb25NSVRNQVMgPSBkYmFNSVRNQVMuZ2V0Q29udGFpbmVyKCkNCiAgICBjb25NSVRNQVMuc2V0KCJNTUNPTk8iLCBpbkNPTk8pDQogICAgY29uTUlUTUFTLnNldCgiTU1JVE5PIiwgaGRwcikNCiAgICByZXR1cm4gZGJhTUlUTUFTLnJlYWQoY29uTUlUTUFTKQ0KICB9DQogIA0KICAvKioNCiAgICogdmFsaWREZWxpdmVyeVdpbmRvdyAtIGNoZWNrIGlmIGRlbGl2ZXJ5IHdpbmRvdyBpcyB2YWxpZA0KICAgKi8NCiAgYm9vbGVhbiB2YWxpZERlbGl2ZXJ5V2luZG93KFN0cmluZyBzZWFzb24sIFN0cmluZyBkd2luKSB7DQogICAgREJBY3Rpb24gZGJhQ0RXSU1BID0gZGF0YWJhc2UudGFibGUoIkNEV0lNQSIpLmluZGV4KCIwMCIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb25DRFdJTUEgPSBkYmFDRFdJTUEuZ2V0Q29udGFpbmVyKCkNCiAgICBjb25DRFdJTUEuc2V0KCJXRENPTk8iLCBpbkNPTk8pDQogICAgY29uQ0RXSU1BLnNldCgiV0RTRUExIiwgc2Vhc29uKQ0KICAgIGNvbkNEV0lNQS5zZXQoIldERFdJRCIsIGR3aW4pDQogICAgcmV0dXJuIGRiYUNEV0lNQS5yZWFkKGNvbkNEV0lNQSkNCiAgfQ0KICANCiAgLyoqDQogICAqIGdldE9JUzIyNVBhcmFtcyAtIGdldCBwYXJhbWV0ZXJzIGRlZmluZWQgaW4gT0lTMjI1DQogICAqLw0KICBkZWYgZ2V0T0lTMjI1UGFyYW1zKCkgew0KICAgIC8vIGNoZWNrIERpdmlzaW9uDQogICAgREJBY3Rpb24gZGJhQ1NZUEFSID0gZGF0YWJhc2UudGFibGUoIkNTWVBBUiIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiQ1BQQVJNIikuYnVpbGQoKQ0KICAgIERCQ29udGFpbmVyIGNvbkNTWVBBUiA9IGRiYUNTWVBBUi5nZXRDb250YWluZXIoKQ0KICAgIGNvbkNTWVBBUi5zZXQoIkNQQ09OTyIsIGluQ09OTykNCiAgICBjb25DU1lQQVIuc2V0KCJDUERJVkkiLCAiIikNCiAgICBjb25DU1lQQVIuc2V0KCJDUFNUQ08iLCAiT0lTMjI1IikNCiAgICBpZiAoIWRiYUNTWVBBUi5yZWFkKGNvbkNTWVBBUikpIHsNCiAgICAgIG1pLmVycm9yKCJPSVMyMjUgc2V0dXAgbm90IGZvdW5kICIpDQogICAgICByZXR1cm4gZmFsc2UNCiAgICB9IGVsc2Ugew0KICAgICAgbG9nZ2VyLmVycm9yKGNvbkNTWVBBUi5nZXQoIkNQUEFSTSIpLnRvU3RyaW5nKCkpDQogICAgICBwYXJhbXMgPSBjb25DU1lQQVIuZ2V0KCJDUFBBUk0iKS50b1N0cmluZygpDQogICAgICBwYXJhbTEgPSBwYXJhbXMuc3Vic3RyaW5nKDAsIDYpDQogICAgICBwYXJhbTIgPSBwYXJhbXMuc3Vic3RyaW5nKDYsIDEyKQ0KICAgICAgcGFyYW0zID0gcGFyYW1zLnN1YnN0cmluZygxMiwgMTgpDQogICAgICBsb2dnZXIuZXJyb3IoInBhcmFtMSA9ICR7cGFyYW0xfSIpDQogICAgICBsb2dnZXIuZXJyb3IoInBhcmFtMiA9ICR7cGFyYW0yfSIpDQogICAgICBsb2dnZXIuZXJyb3IoInBhcmFtMyA9ICR7cGFyYW0zfSIpDQogICAgICANCiAgICB9DQogICAgcmV0dXJuIHRydWUNCiAgfQ0KICANCiAgLyoqDQogICAqIGFkZFJlY29yZCAtIGFkZCByZWNvcmQgdG8gT0RFUEVSIGFsYSBPSVMyMjYNCiAgICovDQogIGRlZiBhZGRSZWNvcmQoKSB7DQogICAgaW50IGN1cnJlbnREYXRlID0gTG9jYWxEYXRlLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpOw0KICAgIGludCBjdXJyZW50VGltZSA9IEludGVnZXIudmFsdWVPZihMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKSk7DQogICAgDQogICAgREJBY3Rpb24gYWN0aW9uT0RFUEVSID0gZGF0YWJhc2UudGFibGUoIk9ERVBFUiIpLmluZGV4KCIwMCIpLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgT0RFUEVSID0gYWN0aW9uT0RFUEVSLmdldENvbnRhaW5lcigpOw0KICAgIE9ERVBFUi5zZXQoIk9UQ09OTyIsIGluQ09OTyk7DQogICAgT0RFUEVSLnNldCgiT1RTRUExIiwgaW5TRUExKTsNCiAgICBPREVQRVIuc2V0KCJPVE9CVjEiLCBpbk9CVjEpOw0KICAgIE9ERVBFUi5zZXQoIk9UT0JWMiIsIGluT0JWMik7DQogICAgT0RFUEVSLnNldCgiT1RPQlYzIiwgaW5PQlYzKTsNCg0KICAgIGlmIChhY3Rpb25PREVQRVIucmVhZChPREVQRVIpKSB7IA0KICAgIAltaS5lcnJvcigiUmVjb3JkIGFscmVhZHkgZXhpc3RzIikNCiAgICAgIHJldHVybg0KICAgIH0gZWxzZSB7DQogICAgICBPREVQRVIuc2V0KCJPVERXSUQiLCBpbkRXSUQpOw0KICAgICAgT0RFUEVSLnNldCgiT1RSR0RUIiwgY3VycmVudERhdGUpDQogICAgICBPREVQRVIuc2V0KCJPVFJHVE0iLCBjdXJyZW50VGltZSkNCiAgICAgIE9ERVBFUi5zZXQoIk9UTE1EVCIsIGN1cnJlbnREYXRlKQ0KICAgICAgT0RFUEVSLnNldCgiT1RDSE5PIiwgMSkNCiAgICAgIE9ERVBFUi5zZXQoIk9UQ0hJRCIsIHByb2dyYW0uZ2V0VXNlcigpKQ0KICANCiAgICAgIGFjdGlvbk9ERVBFUi5pbnNlcnQoT0RFUEVSKQ0KICAgICANCiAgICB9DQogIH0NCn0="}}}